# This manifest was generated by flux. DO NOT EDIT.
---
apiVersion: source.toolkit.fluxcd.io/v1
kind: GitRepository
metadata:
  name: flux-system
  namespace: flux-system
spec:
  interval: 1m0s
  ref:
    branch: dev
  secretRef:
    name: flux-system-token # k create secret generic flux-system-token -n flux-system --from-literal=username='Steffen-Hartmueller_HON' --from-literal=password=...
  url: https://github.com/HON-HCE/hcl-cloud-research-k8s-consolidated.git
---
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: flux-system
  namespace: flux-system
spec:
  interval: 10m0s
  path: ./k8s
  prune: true
  sourceRef:
    kind: GitRepository
    name: flux-system
  healthChecks:
    - apiVersion: apps/v1
      kind: Deployment
      name: epcis2-eventhouse
      namespace: tnt2-epcis
    - apiVersion: apps/v1
      kind: Deployment
      name: epcis2-eventdb
      namespace: tnt2-epcis
    - apiVersion: apps/v1
      kind: Deployment
      name: epcis2-capture
      namespace: tnt2-epcis
    - apiVersion: apps/v1
      kind: Deployment
      name: epcis2-query
      namespace: tnt2-epcis
    - apiVersion: apps/v1
      kind: Deployment
      name: tnt2-ais-response-persister
      namespace: tnt2-ais
    - apiVersion: apps/v1
      kind: Deployment
      name: tnt2-ais-response-query
      namespace: tnt2-ais
    - apiVersion: apps/v1
      kind: Deployment
      name: tnt2-warehouse-service
      namespace: tnt2-cars
  wait: false # https://fluxcd.io/flux/components/kustomize/kustomizations/#wait - manually added by Honeywell # 29.01.2025: Disabling this for now. We're experiencing too many errors during initial applications deployments. Once everything is stabilized, we should enable this again.
